<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom metadata – Twill</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/docs/favicon.ico">
    <link rel="apple-touch-icon" href="/docs/favicon-192.png">
    <meta name="description" content="Twill — An open source CMS toolkit for Laravel">
    <meta name="theme-color" content="#000000">
    <meta property="og:url" content="https://twill.io/">
    <meta name="twitter:url" content="https://twill.io/">
    <meta property="og:image" content="/social_share.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:image" content="/social_share.png">
    <meta itemprop="image" content="/social_share.png">
    <meta property="og:site_name" content="Twill">
    <meta property="og:author" content="https://www.facebook.com/twillcms/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@twillcms">
    <meta name="twitter:domain" content="twill.io">
    <meta name="twitter:creator" content="@twillcms">
    
    <link rel="preload" href="/docs/assets/css/0.styles.de276192.css" as="style"><link rel="preload" href="/docs/assets/js/app.1ad650c4.js" as="script"><link rel="preload" href="/docs/assets/js/3.172449b0.js" as="script"><link rel="preload" href="/docs/assets/js/69.5b2de5c6.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.4cdfad6d.js"><link rel="prefetch" href="/docs/assets/js/11.c2b51252.js"><link rel="prefetch" href="/docs/assets/js/12.13da77b7.js"><link rel="prefetch" href="/docs/assets/js/13.8e6da884.js"><link rel="prefetch" href="/docs/assets/js/14.ab58d89a.js"><link rel="prefetch" href="/docs/assets/js/15.eb873f14.js"><link rel="prefetch" href="/docs/assets/js/16.ba26fa13.js"><link rel="prefetch" href="/docs/assets/js/17.446da5ae.js"><link rel="prefetch" href="/docs/assets/js/18.64319c98.js"><link rel="prefetch" href="/docs/assets/js/19.c169bc90.js"><link rel="prefetch" href="/docs/assets/js/20.d678efa4.js"><link rel="prefetch" href="/docs/assets/js/21.dc8ddfb5.js"><link rel="prefetch" href="/docs/assets/js/22.ddbf19f8.js"><link rel="prefetch" href="/docs/assets/js/23.63a0c523.js"><link rel="prefetch" href="/docs/assets/js/24.f485a496.js"><link rel="prefetch" href="/docs/assets/js/25.475989e6.js"><link rel="prefetch" href="/docs/assets/js/26.1d3b8955.js"><link rel="prefetch" href="/docs/assets/js/27.235fe0b8.js"><link rel="prefetch" href="/docs/assets/js/28.24a7030f.js"><link rel="prefetch" href="/docs/assets/js/29.8682fac9.js"><link rel="prefetch" href="/docs/assets/js/30.c51b1ad1.js"><link rel="prefetch" href="/docs/assets/js/31.d41ad36f.js"><link rel="prefetch" href="/docs/assets/js/32.5d6d1aff.js"><link rel="prefetch" href="/docs/assets/js/33.39c8568f.js"><link rel="prefetch" href="/docs/assets/js/34.c9cfd364.js"><link rel="prefetch" href="/docs/assets/js/35.803844f1.js"><link rel="prefetch" href="/docs/assets/js/36.54a796c5.js"><link rel="prefetch" href="/docs/assets/js/37.a2c7ecc2.js"><link rel="prefetch" href="/docs/assets/js/38.4dead3ca.js"><link rel="prefetch" href="/docs/assets/js/39.61bd9583.js"><link rel="prefetch" href="/docs/assets/js/4.59a9700e.js"><link rel="prefetch" href="/docs/assets/js/40.4da9273b.js"><link rel="prefetch" href="/docs/assets/js/41.117d3cb5.js"><link rel="prefetch" href="/docs/assets/js/42.7400cb3d.js"><link rel="prefetch" href="/docs/assets/js/43.0d6eadca.js"><link rel="prefetch" href="/docs/assets/js/44.986c6255.js"><link rel="prefetch" href="/docs/assets/js/45.ba7e46dd.js"><link rel="prefetch" href="/docs/assets/js/46.59acb637.js"><link rel="prefetch" href="/docs/assets/js/47.be12b868.js"><link rel="prefetch" href="/docs/assets/js/48.0ee9ac63.js"><link rel="prefetch" href="/docs/assets/js/49.0c08f337.js"><link rel="prefetch" href="/docs/assets/js/5.d3bf682d.js"><link rel="prefetch" href="/docs/assets/js/50.8a475c97.js"><link rel="prefetch" href="/docs/assets/js/51.7767acd8.js"><link rel="prefetch" href="/docs/assets/js/52.5a7d5dba.js"><link rel="prefetch" href="/docs/assets/js/53.6bd79d5f.js"><link rel="prefetch" href="/docs/assets/js/54.0083b71f.js"><link rel="prefetch" href="/docs/assets/js/55.822db751.js"><link rel="prefetch" href="/docs/assets/js/56.e0db35db.js"><link rel="prefetch" href="/docs/assets/js/57.74aac0b9.js"><link rel="prefetch" href="/docs/assets/js/58.0bc06e3c.js"><link rel="prefetch" href="/docs/assets/js/59.3b817322.js"><link rel="prefetch" href="/docs/assets/js/6.f3712583.js"><link rel="prefetch" href="/docs/assets/js/60.da55d698.js"><link rel="prefetch" href="/docs/assets/js/61.50f833d7.js"><link rel="prefetch" href="/docs/assets/js/62.890fe2e3.js"><link rel="prefetch" href="/docs/assets/js/63.f0ad71c6.js"><link rel="prefetch" href="/docs/assets/js/64.32dd23b6.js"><link rel="prefetch" href="/docs/assets/js/65.25064143.js"><link rel="prefetch" href="/docs/assets/js/66.63446043.js"><link rel="prefetch" href="/docs/assets/js/67.de6d2127.js"><link rel="prefetch" href="/docs/assets/js/68.38c5f533.js"><link rel="prefetch" href="/docs/assets/js/7.ec50e37b.js"><link rel="prefetch" href="/docs/assets/js/70.fe671597.js"><link rel="prefetch" href="/docs/assets/js/71.090694cf.js"><link rel="prefetch" href="/docs/assets/js/72.bd696162.js"><link rel="prefetch" href="/docs/assets/js/73.06a15598.js"><link rel="prefetch" href="/docs/assets/js/74.5e67178c.js"><link rel="prefetch" href="/docs/assets/js/75.045b9f65.js"><link rel="prefetch" href="/docs/assets/js/76.b0277c6b.js"><link rel="prefetch" href="/docs/assets/js/77.b5605b3a.js"><link rel="prefetch" href="/docs/assets/js/78.f2851125.js"><link rel="prefetch" href="/docs/assets/js/79.c29860fd.js"><link rel="prefetch" href="/docs/assets/js/8.f4b81c4c.js"><link rel="prefetch" href="/docs/assets/js/80.cda7da5d.js"><link rel="prefetch" href="/docs/assets/js/81.5bc6834c.js"><link rel="prefetch" href="/docs/assets/js/82.c18d1889.js"><link rel="prefetch" href="/docs/assets/js/83.ed85995a.js"><link rel="prefetch" href="/docs/assets/js/84.83706377.js"><link rel="prefetch" href="/docs/assets/js/85.25112c24.js"><link rel="prefetch" href="/docs/assets/js/86.7e535680.js"><link rel="prefetch" href="/docs/assets/js/87.3fa86365.js"><link rel="prefetch" href="/docs/assets/js/88.343fe4e0.js"><link rel="prefetch" href="/docs/assets/js/89.3d78952f.js"><link rel="prefetch" href="/docs/assets/js/9.ff08162e.js"><link rel="prefetch" href="/docs/assets/js/90.a79d9b2a.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.1a2f082c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.de276192.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container twill-doc"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Twill</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/preface/" class="sidebar-heading clickable"><span>Preface</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/getting-started/" class="sidebar-heading clickable"><span>Getting Started</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/crud-modules/" class="sidebar-heading clickable"><span>Modules</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/form-fields/" class="sidebar-heading clickable"><span>Form Fields</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/block-editor/" class="sidebar-heading clickable"><span>Block Editor</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/media-library/" class="sidebar-heading clickable router-link-active open"><span>Media Library</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/media-library/" aria-current="page" class="sidebar-link">Media Library</a></li><li><a href="/docs/media-library/storage-provider.html" class="sidebar-link">Storage Provider</a></li><li><a href="/docs/media-library/image-rendering-service.html" class="sidebar-link">Image Rendering Service</a></li><li><a href="/docs/media-library/role-crop-params.html" class="sidebar-link">Role &amp; Crop Params</a></li><li><a href="/docs/media-library/file-library.html" class="sidebar-link">File Library</a></li><li><a href="/docs/media-library/custom-metadata.html" aria-current="page" class="active sidebar-link">Custom metadata</a></li><li><a href="/docs/media-library/imgix-and-s3-direct-uploads.html" class="sidebar-link">Imgix and S3 Direct Uploads</a></li><li><a href="/docs/media-library/imgix-and-local-uploads.html" class="sidebar-link">Imgix and Local Uploads</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/guides/" class="sidebar-heading clickable"><span>Guides</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/docs/artisan-commands/" class="sidebar-link">Artisan Commands</a></li><li><a href="/docs/dashboard/" class="sidebar-link">Dashboard</a></li><li><a href="/docs/global-search/" class="sidebar-link">Global Search</a></li><li><a href="/docs/featuring-content/" class="sidebar-link">Featuring Content</a></li><li><a href="/docs/settings-sections/" class="sidebar-link">Settings Sections</a></li><li><a href="/docs/custom-cms-pages/" class="sidebar-link">Custom CMS Pages</a></li><li><a href="/docs/user-management/" class="sidebar-link">User Management</a></li><li><a href="/docs/oauth-login/" class="sidebar-link">OAuth Login</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/packages/" class="sidebar-heading clickable"><span>Packages</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/docs/resources/" class="sidebar-link">Resources</a></li><li><a href="/docs/api-documentation/" class="sidebar-link">API Documentation</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="custom-metadata"><a href="#custom-metadata" class="header-anchor">#</a> Custom metadata</h1> <p>By default media comes with a few metadata attributes that can be filled in from the media managers:
Tags, Alt text and caption.</p> <p>Say we want to add more metadata, some of which might be translatable. To do this we have to go through a few
steps. In the steps below we will add a translatable field for attribution and a non translatable field for source.</p> <p>First thing we have to do is add the new metadata fields in the twill settings.</p> <p>In the twill config (<code>config/twill.php</code>) we add the following:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'media_library'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'extra_metadatas_fields'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'source'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'source'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'attribution'</span><span class="token punctuation">,</span>
                <span class="token string single-quoted-string">'label'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'attribution'</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'translatable_metadatas_fields'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'attribution'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>This will already ensure the fields are visible from the media manager. However saving is not yet possible because the
database fields are missing. So to make everything work we have to write a migration.</p> <p>For regular fields, it is best to use a text field, for translatable fields we suggest to use a json field.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Migrations<span class="token punctuation">\</span>Migration</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Schema<span class="token punctuation">\</span>Blueprint</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Schema</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">AddFieldsToMedia</span> <span class="token keyword">extends</span> <span class="token class-name">Migration</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'twill.medias_table'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'twill_medias'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'source'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'attribution'</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">nullable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">table</span><span class="token punctuation">(</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'twill.medias_table'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'twill_medias'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">dropColumn</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'source'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">dropColumn</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'attribution'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></code></pre></div><p>And that is all. The most important part is to make sure your migration fields are named the same as your custom metadata
values in the twill config.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/area17/twill/edit/2.x/docs/src/media-library/custom-metadata.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/media-library/file-library.html" class="prev">
        File Library
      </a></span> <span class="next"><a href="/docs/media-library/imgix-and-s3-direct-uploads.html">
        Imgix and S3 Direct Uploads
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.1ad650c4.js" defer></script><script src="/docs/assets/js/3.172449b0.js" defer></script><script src="/docs/assets/js/69.5b2de5c6.js" defer></script>
  </body>
</html>
