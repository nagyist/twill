<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuration – Twill</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="shortcut icon" href="/docs/favicon.ico">
    <link rel="apple-touch-icon" href="/docs/favicon-192.png">
    <meta name="description" content="Twill — An open source CMS toolkit for Laravel">
    <meta name="theme-color" content="#000000">
    <meta property="og:url" content="https://twill.io/">
    <meta name="twitter:url" content="https://twill.io/">
    <meta property="og:image" content="/social_share.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:image" content="/social_share.png">
    <meta itemprop="image" content="/social_share.png">
    <meta property="og:site_name" content="Twill">
    <meta property="og:author" content="https://www.facebook.com/twillcms/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@twillcms">
    <meta name="twitter:domain" content="twill.io">
    <meta name="twitter:creator" content="@twillcms">
    
    <link rel="preload" href="/docs/assets/css/0.styles.de276192.css" as="style"><link rel="preload" href="/docs/assets/js/app.1ad650c4.js" as="script"><link rel="preload" href="/docs/assets/js/3.172449b0.js" as="script"><link rel="preload" href="/docs/assets/js/60.da55d698.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.4cdfad6d.js"><link rel="prefetch" href="/docs/assets/js/11.c2b51252.js"><link rel="prefetch" href="/docs/assets/js/12.13da77b7.js"><link rel="prefetch" href="/docs/assets/js/13.8e6da884.js"><link rel="prefetch" href="/docs/assets/js/14.ab58d89a.js"><link rel="prefetch" href="/docs/assets/js/15.eb873f14.js"><link rel="prefetch" href="/docs/assets/js/16.ba26fa13.js"><link rel="prefetch" href="/docs/assets/js/17.446da5ae.js"><link rel="prefetch" href="/docs/assets/js/18.64319c98.js"><link rel="prefetch" href="/docs/assets/js/19.c169bc90.js"><link rel="prefetch" href="/docs/assets/js/20.d678efa4.js"><link rel="prefetch" href="/docs/assets/js/21.dc8ddfb5.js"><link rel="prefetch" href="/docs/assets/js/22.ddbf19f8.js"><link rel="prefetch" href="/docs/assets/js/23.63a0c523.js"><link rel="prefetch" href="/docs/assets/js/24.f485a496.js"><link rel="prefetch" href="/docs/assets/js/25.475989e6.js"><link rel="prefetch" href="/docs/assets/js/26.1d3b8955.js"><link rel="prefetch" href="/docs/assets/js/27.235fe0b8.js"><link rel="prefetch" href="/docs/assets/js/28.24a7030f.js"><link rel="prefetch" href="/docs/assets/js/29.8682fac9.js"><link rel="prefetch" href="/docs/assets/js/30.c51b1ad1.js"><link rel="prefetch" href="/docs/assets/js/31.d41ad36f.js"><link rel="prefetch" href="/docs/assets/js/32.5d6d1aff.js"><link rel="prefetch" href="/docs/assets/js/33.39c8568f.js"><link rel="prefetch" href="/docs/assets/js/34.c9cfd364.js"><link rel="prefetch" href="/docs/assets/js/35.803844f1.js"><link rel="prefetch" href="/docs/assets/js/36.54a796c5.js"><link rel="prefetch" href="/docs/assets/js/37.a2c7ecc2.js"><link rel="prefetch" href="/docs/assets/js/38.4dead3ca.js"><link rel="prefetch" href="/docs/assets/js/39.61bd9583.js"><link rel="prefetch" href="/docs/assets/js/4.59a9700e.js"><link rel="prefetch" href="/docs/assets/js/40.4da9273b.js"><link rel="prefetch" href="/docs/assets/js/41.117d3cb5.js"><link rel="prefetch" href="/docs/assets/js/42.7400cb3d.js"><link rel="prefetch" href="/docs/assets/js/43.0d6eadca.js"><link rel="prefetch" href="/docs/assets/js/44.986c6255.js"><link rel="prefetch" href="/docs/assets/js/45.ba7e46dd.js"><link rel="prefetch" href="/docs/assets/js/46.59acb637.js"><link rel="prefetch" href="/docs/assets/js/47.be12b868.js"><link rel="prefetch" href="/docs/assets/js/48.0ee9ac63.js"><link rel="prefetch" href="/docs/assets/js/49.0c08f337.js"><link rel="prefetch" href="/docs/assets/js/5.d3bf682d.js"><link rel="prefetch" href="/docs/assets/js/50.8a475c97.js"><link rel="prefetch" href="/docs/assets/js/51.7767acd8.js"><link rel="prefetch" href="/docs/assets/js/52.5a7d5dba.js"><link rel="prefetch" href="/docs/assets/js/53.6bd79d5f.js"><link rel="prefetch" href="/docs/assets/js/54.0083b71f.js"><link rel="prefetch" href="/docs/assets/js/55.822db751.js"><link rel="prefetch" href="/docs/assets/js/56.e0db35db.js"><link rel="prefetch" href="/docs/assets/js/57.74aac0b9.js"><link rel="prefetch" href="/docs/assets/js/58.0bc06e3c.js"><link rel="prefetch" href="/docs/assets/js/59.3b817322.js"><link rel="prefetch" href="/docs/assets/js/6.f3712583.js"><link rel="prefetch" href="/docs/assets/js/61.50f833d7.js"><link rel="prefetch" href="/docs/assets/js/62.890fe2e3.js"><link rel="prefetch" href="/docs/assets/js/63.f0ad71c6.js"><link rel="prefetch" href="/docs/assets/js/64.32dd23b6.js"><link rel="prefetch" href="/docs/assets/js/65.25064143.js"><link rel="prefetch" href="/docs/assets/js/66.63446043.js"><link rel="prefetch" href="/docs/assets/js/67.de6d2127.js"><link rel="prefetch" href="/docs/assets/js/68.38c5f533.js"><link rel="prefetch" href="/docs/assets/js/69.5b2de5c6.js"><link rel="prefetch" href="/docs/assets/js/7.ec50e37b.js"><link rel="prefetch" href="/docs/assets/js/70.fe671597.js"><link rel="prefetch" href="/docs/assets/js/71.090694cf.js"><link rel="prefetch" href="/docs/assets/js/72.bd696162.js"><link rel="prefetch" href="/docs/assets/js/73.06a15598.js"><link rel="prefetch" href="/docs/assets/js/74.5e67178c.js"><link rel="prefetch" href="/docs/assets/js/75.045b9f65.js"><link rel="prefetch" href="/docs/assets/js/76.b0277c6b.js"><link rel="prefetch" href="/docs/assets/js/77.b5605b3a.js"><link rel="prefetch" href="/docs/assets/js/78.f2851125.js"><link rel="prefetch" href="/docs/assets/js/79.c29860fd.js"><link rel="prefetch" href="/docs/assets/js/8.f4b81c4c.js"><link rel="prefetch" href="/docs/assets/js/80.cda7da5d.js"><link rel="prefetch" href="/docs/assets/js/81.5bc6834c.js"><link rel="prefetch" href="/docs/assets/js/82.c18d1889.js"><link rel="prefetch" href="/docs/assets/js/83.ed85995a.js"><link rel="prefetch" href="/docs/assets/js/84.83706377.js"><link rel="prefetch" href="/docs/assets/js/85.25112c24.js"><link rel="prefetch" href="/docs/assets/js/86.7e535680.js"><link rel="prefetch" href="/docs/assets/js/87.3fa86365.js"><link rel="prefetch" href="/docs/assets/js/88.343fe4e0.js"><link rel="prefetch" href="/docs/assets/js/89.3d78952f.js"><link rel="prefetch" href="/docs/assets/js/9.ff08162e.js"><link rel="prefetch" href="/docs/assets/js/90.a79d9b2a.js"><link rel="prefetch" href="/docs/assets/js/vendors~docsearch.1a2f082c.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.de276192.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container twill-doc"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">Twill</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/area17/twill" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Documentation</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/preface/" class="sidebar-heading clickable"><span>Preface</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/getting-started/" class="sidebar-heading clickable router-link-active open"><span>Getting Started</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/getting-started/" aria-current="page" class="sidebar-link">Environment Requirements</a></li><li><a href="/docs/getting-started/installation.html" class="sidebar-link">Installation</a></li><li><a href="/docs/getting-started/configuration.html" aria-current="page" class="active sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/getting-started/configuration.html#enabled-features" class="sidebar-link">Enabled features</a></li><li class="sidebar-sub-header"><a href="/docs/getting-started/configuration.html#global-configuration" class="sidebar-link">Global configuration</a></li><li class="sidebar-sub-header"><a href="/docs/getting-started/configuration.html#media-library" class="sidebar-link">Media library</a></li><li class="sidebar-sub-header"><a href="/docs/getting-started/configuration.html#imgix" class="sidebar-link">Imgix</a></li><li class="sidebar-sub-header"><a href="/docs/getting-started/configuration.html#file-library" class="sidebar-link">File library</a></li></ul></li><li><a href="/docs/getting-started/navigation.html" class="sidebar-link">Navigation</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/crud-modules/" class="sidebar-heading clickable"><span>Modules</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/form-fields/" class="sidebar-heading clickable"><span>Form Fields</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/block-editor/" class="sidebar-heading clickable"><span>Block Editor</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/media-library/" class="sidebar-heading clickable"><span>Media Library</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/guides/" class="sidebar-heading clickable"><span>Guides</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/docs/artisan-commands/" class="sidebar-link">Artisan Commands</a></li><li><a href="/docs/dashboard/" class="sidebar-link">Dashboard</a></li><li><a href="/docs/global-search/" class="sidebar-link">Global Search</a></li><li><a href="/docs/featuring-content/" class="sidebar-link">Featuring Content</a></li><li><a href="/docs/settings-sections/" class="sidebar-link">Settings Sections</a></li><li><a href="/docs/custom-cms-pages/" class="sidebar-link">Custom CMS Pages</a></li><li><a href="/docs/user-management/" class="sidebar-link">User Management</a></li><li><a href="/docs/oauth-login/" class="sidebar-link">OAuth Login</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/docs/packages/" class="sidebar-heading clickable"><span>Packages</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/docs/resources/" class="sidebar-link">Resources</a></li><li><a href="/docs/api-documentation/" class="sidebar-link">API Documentation</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h1> <p>As mentioned above, Twill's default configuration allows you to get up and running quickly by providing environment variables.</p> <p>Of course, you can override any of Twill's provided configurations values from the empty <code>config/twill.php</code> file that was published in your app when you ran the <code>twill:install</code> command.</p> <h2 id="enabled-features"><a href="#enabled-features" class="header-anchor">#</a> Enabled features</h2> <p>You can opt-in or opt-out from certain Twill features using the <code>enabled</code> array in your <code>config/twill.php</code> file. Values presented in the following code snippet are Twill's defaults:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'enabled'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'users-management'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'media-library'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'file-library'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'block-editor'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'buckets'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'users-image'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'settings'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'dashboard'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'search'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'users-description'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'activitylog'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'users-2fa'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'users-oauth'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>You do not need to override entire arrays of configuration options. For example, if you only want to disable Twill's dashboard, you do not need to include to entire <code>enabled</code> array to your own <code>config/twill.php</code> configuration file:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'enabled'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'dashboard'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>This is true to all following configuration arrays.</p> <h2 id="global-configuration"><a href="#global-configuration" class="header-anchor">#</a> Global configuration</h2> <p>By default, Twill uses Laravel default application namespace <code>App</code>. You  can provide your own using the <code>namespace</code> configuration in your <code>config/twill.php</code> file:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'namespace'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'App'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>You can also change the default variables that control where Twill's admin console is available:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'admin_app_url'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ADMIN_APP_URL'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'admin.'</span> <span class="token operator">.</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'APP_URL'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'admin_app_path'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'ADMIN_APP_PATH'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>If you have specific middleware needs, you can specify a custom middleware group for Twill's admin console routes:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'admin_middleware_group'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'web'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Twill registers its own exception handler in all controllers. If you need to customize it (to report errors on a 3rd party service like Sentry or Rollbar for example), you can opt-out from it in your <code>config/twill.php</code> file:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'bind_exception_handler'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>And then extend it from your own <code>app/Exceptions/Handler.php</code> class:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Exceptions</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Exceptions<span class="token punctuation">\</span>Handler</span> <span class="token keyword">as</span> ExceptionHandler<span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Exception</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Auth<span class="token punctuation">\</span>AuthenticationException</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Handler</span> <span class="token keyword">extends</span> <span class="token class-name">ExceptionHandler</span>
<span class="token operator">...</span>
</span></code></pre></div><p>Twill's users and their password resets are stored in <code>twill_users</code> and <code>twill_password_resets</code> tables respectively. If you started your application on Twill 1.1 or simply would like to provide custom tables names, use the following configuration options:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'users_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'twill_users'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'password_resets_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'twill_password_resets'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'blocks_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'blocks'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'features_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'features'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'settings_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'settings'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'medias_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'medias'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'mediables_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'mediables'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'files_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'files'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'fileables_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fileables'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'related_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'related'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'tags_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'tags'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'tagged_table'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'tagged'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h4 id="migrations-configuration"><a href="#migrations-configuration" class="header-anchor">#</a> Migrations configuration</h4> <p>Since Laravel 5.8, migrations generated by Laravel use big integers on the <code>id</code> column. Twill migrations helpers can be configured to use regular integers for backwards compatibility.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'migrations_use_big_integers'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Since Twill 2.0, migrations are not published anymore but loaded automatically in Twill's service provider.
Set to false to prevent this from happening if you need to customize Twill's tables.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'load_default_migrations'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h4 id="locale-configuration"><a href="#locale-configuration" class="header-anchor">#</a> Locale configuration</h4> <p>Since Twill 2.0, Twill's own UI can be translated using lang files. Users can choose their own preferred languages in their own settings,
but you might actually want to default to another language than English for all your users.
You can use the following configuration for example to set Twill's default CMS language to French:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'locale'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'fr'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'fallback_locale'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'en'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="publisher-date-and-time-format-configuration"><a href="#publisher-date-and-time-format-configuration" class="header-anchor">#</a> Publisher date and time format configuration</h4> <p>To change the format of the publication fields when using <code>publish_start_date</code> and <code>publish_end_date</code> on your model you can change these keys in <code>twill.php</code>.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'publish_date_24h'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// enable 24h format in publisher dates</span>
    <span class="token string single-quoted-string">'publish_date_format'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'d F Y H:i'</span><span class="token punctuation">,</span> <span class="token comment">// format used by publication date pickers</span>
    <span class="token string single-quoted-string">'publish_date_display_format'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'DD MMMM YYYY HH:mm'</span><span class="token punctuation">,</span> <span class="token comment">// format used when displaying the publication date</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h4 id="multiple-subdomains-cms-routing"><a href="#multiple-subdomains-cms-routing" class="header-anchor">#</a> Multiple subdomains CMS routing</h4> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'support_subdomain_admin_routing'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'admin_app_subdomain'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'admin'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'active_subdomain'</span> <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Enabling this allows adding top level keys to Twill's navigation and dashboard modules configuration, mapping to a subdomain.
This is a very simple way to implement multi-tenant CMS/sites in Twill. A navigation array looking like the following would expose your CMS on
the <code>admin.subdomain1.app-url.test</code> and <code>admin.subdomain2.app-url.test</code> urls, with its corresponding links:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'subdomain1'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'module1'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token operator">...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string single-quoted-string">'subdomain2'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'module2'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
    <span class="token operator">...</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>App name can be set per subdomain using the 'twill.app_names' configuration array. For our example above:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
  <span class="token string single-quoted-string">'app_names'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'subdomain1'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'App 1 name'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'subdomain2'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'App 2 name'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Subdomain configuration nesting also applies to the dashboard <code>modules</code> key.</p> <p>You can also provide a custom <code>block_single_layout</code> per subdomain by creating a Blade file under <code>resources/views/subdomain/layouts/blocks</code>.</p> <h2 id="media-library"><a href="#media-library" class="header-anchor">#</a> Media library</h2> <p>The <code>media_library</code> configuration array in <code>config/twill.php</code> allows you to provide Twill with your configuration for the media library disk, endpoint type and others options depending on your endpoint type. Most options can be controlled through environment variables, as you can see in the default configuration provided:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'media_library'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'disk'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'twill_media_library'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'endpoint_type'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_ENDPOINT_TYPE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'s3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'cascade_delete'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_CASCADE_DELETE'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'local_path'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_LOCAL_PATH'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'uploads'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'image_service'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_IMAGE_SERVICE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'A17\Twill\Services\MediaLibrary\Imgix'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'acl'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_ACL'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'private'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'filesize_limit'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'MEDIA_LIBRARY_FILESIZE_LIMIT'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'allowed_extensions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'svg'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'jpg'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'gif'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'png'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'jpeg'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'init_alt_text_from_filename'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'prefix_uuid_with_local_path'</span> <span class="token operator">=&gt;</span> <span class="token function">config</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'twill.file_library.prefix_uuid_with_local_path'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'translated_form_fields'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
        <span class="token comment">/*
        |--------------------------------------------------------------------------
        | Wysiwyg options for the caption field.
        |--------------------------------------------------------------------------
        */</span>
        <span class="token string single-quoted-string">'media_caption_use_wysiwyg'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'media_caption_wysiwyg_options'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'modules'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                <span class="token string single-quoted-string">'toolbar'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
                    <span class="token string single-quoted-string">'bold'</span><span class="token punctuation">,</span>
                    <span class="token string single-quoted-string">'italic'</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Twill's media library supports the following endpoint types: <code>s3</code>, <code>azure</code> and <code>local</code>.</p> <h4 id="s3-endpoint"><a href="#s3-endpoint" class="header-anchor">#</a> S3 endpoint</h4> <p>By default, Twill uses the <code>s3</code> endpoint type to store your uploads on an AWS S3 bucket. To authorize uploads to S3, provide your application with the following environment variables:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">S3_KEY</span><span class="token operator">=</span>S3_KEY
<span class="token assign-left variable">S3_SECRET</span><span class="token operator">=</span>S3_SECRET
<span class="token assign-left variable">S3_BUCKET</span><span class="token operator">=</span>bucket-name
</code></pre></div><p>Optionally, you can use the <code>S3_REGION</code> variable to specify a region other than S3's default region (<code>us-east-1</code>).</p> <p>If you prefer to use another S3 compliant storage such as Minio, provide your application with the following environment variables:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">S3_KEY</span><span class="token operator">=</span>S3_KEY
<span class="token assign-left variable">S3_SECRET</span><span class="token operator">=</span>S3_SECRET
<span class="token assign-left variable">S3_BUCKET</span><span class="token operator">=</span>bucket-name
<span class="token assign-left variable">S3_ENDPOINT</span><span class="token operator">=</span>https://YOUR_S3_DOMAIN
</code></pre></div><p>When uploading images to S3, Twill sets the <code>acl</code> parameter to <code>private</code>. This is because images in your bucket should not be publicly accessible when using a service like <a href="https://imgix.com" target="_blank" rel="noopener noreferrer">Imgix<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> on top of it. Only Imgix should have read-only access to your bucket, while your application obviously needs to have write access. If you intend to access images uploaded to S3 directly, set the <code>MEDIA_LIBRARY_ACL</code> variable or <code>acl</code> configuration option to <code>public-read</code>.</p> <h4 id="azure-endpoint"><a href="#azure-endpoint" class="header-anchor">#</a> Azure endpoint</h4> <p>Twill supports <code>azure</code> endpoint type to store your uploads on an Microsoft Azure container.</p> <p>To authorize uploads to Azure, provide your application with the following environment variables:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">MEDIA_LIBRARY_ENDPOINT_TYPE</span><span class="token operator">=</span>azure

<span class="token assign-left variable">AZURE_ACCOUNT_KEY</span><span class="token operator">=</span>AZURE_ACCOUNT_KEY
<span class="token assign-left variable">AZURE_ACCOUNT_NAME</span><span class="token operator">=</span>AZURE_ACCOUNT_NAME
<span class="token assign-left variable">AZURE_CONTAINER</span><span class="token operator">=</span>AZURE_CONTAINER
</code></pre></div><h4 id="local-endpoint"><a href="#local-endpoint" class="header-anchor">#</a> Local endpoint</h4> <p>If you want your uploads to be stored on the server where your Laravel application is running, use the <code>local</code> endpoint type.  Define the <code>MEDIA_LIBRARY_LOCAL_PATH</code> environment variable or the <code>media_library.local_path</code> configuration option to provide Twill with your preferred upload path:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">MEDIA_LIBRARY_ENDPOINT_TYPE</span><span class="token operator">=</span>local
<span class="token assign-left variable">MEDIA_LIBRARY_LOCAL_PATH</span><span class="token operator">=</span>uploads
</code></pre></div><p>To avoid running into <code>too large</code> errors when uploading to your server, you can choose to limit uploads through Twill using the <code>MEDIA_LIBRARY_FILESIZE_LIMIT</code> environment variable or <code>filesize_limit</code> configuration option. It is set to 50mb by default. Make sure to setup your PHP and webserver (apache, nginx, ....) to allow for the upload size specified here.
When using the <code>s3</code> endpoint type, uploads are not limited in size.</p> <h4 id="cascading-uploads-deletions"><a href="#cascading-uploads-deletions" class="header-anchor">#</a> Cascading uploads deletions</h4> <p>By default, Twill will not delete images when deleting from Twill's media library UI, wether it is on S3 or locally.</p> <p>You can decide to physically delete uploaded images using the <code>cascade_delete</code> option, which is also controlled through the <code>MEDIA_LIBRARY_CASCADE_DELETE</code> boolean environment variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">MEDIA_LIBRARY_CASCADE_DELETE</span><span class="token operator">=</span>false
</code></pre></div><h4 id="allowed-extensions"><a href="#allowed-extensions" class="header-anchor">#</a> Allowed extensions</h4> <p>The <code>allowed_extensions</code> configuration option is an array of file extensions that Twill's media library's uploader will accept. By default, <code>svg</code>, <code>jpg</code>, <code>gif</code>, <code>png</code> and <code>jpeg</code> extensions are allowed.</p> <h4 id="images-rendering"><a href="#images-rendering" class="header-anchor">#</a> Images rendering</h4> <p>To render uploaded images, Twill's preferred service is <a href="https://imgix.com" target="_blank" rel="noopener noreferrer">Imgix<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>If you do not want or cannot use a third party service, or have very limited image rendering needs, Twill also provides a local image rendering service powered by <a href="https://glide.thephpleague.com/" target="_blank" rel="noopener noreferrer">Glide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. The following .env variables should get you up and running:</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>If the media cropper is not working, it is adviced to add <code>img/*</code> to the <code>cors.php</code> exceptions.</p></div> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">MEDIA_LIBRARY_ENDPOINT_TYPE</span><span class="token operator">=</span>local
<span class="token assign-left variable">MEDIA_LIBRARY_IMAGE_SERVICE</span><span class="token operator">=</span>A17<span class="token punctuation">\</span>Twill<span class="token punctuation">\</span>Services<span class="token punctuation">\</span>MediaLibrary<span class="token punctuation">\</span>Glide
</code></pre></div><p>If you want to add support for other image formats, which aren't covered by Glide, you can specify an array of extensions. For files matching the ending, the original media URL will be returned, instead of the modified one. For this, you can specify the following configuration key: <code>glide.original_media_for_extensions</code></p> <h2 id="imgix"><a href="#imgix" class="header-anchor">#</a> Imgix</h2> <p>As noted above, by default, Twill uses and recommends using <a href="https://imgix.com" target="_blank" rel="noopener noreferrer">Imgix<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to transform, optimize, and intelligently cache your uploaded images.</p> <p>Specify your Imgix source url using the <code>IMGIX_SOURCE_HOST</code> environment variable or <code>source_host</code> configuration option.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">IMGIX_SOURCE_HOST</span><span class="token operator">=</span>source.imgix.net
</code></pre></div><p>By default, Twill will render Imgix urls with the <code>https</code> scheme. We do not see any reason why you would do so nowadays, but you can decide to opt-out using the <code>IMGIX_USE_HTTPS</code> environment variable or <code>use_https</code> configuration option.</p> <p>Imgix offers the ability to use signed urls to prevent users from accessing images without parameters or different parameters than the ones you choose to use in your own application. You can enable that feature in Twill using the <code>IMGIX_USE_SIGNED_URLS</code> environment variable or <code>use_signed_urls</code> configuration option. If you enable signed urls, Imgix provides you with a signature key. Provide it to Twill using the <code>IMGIX_SIGN_KEY</code> environment variable.</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">IMGIX_USE_SIGNED_URLS</span><span class="token operator">=</span>true
<span class="token assign-left variable">IMGIX_SIGN_KEY</span><span class="token operator">=</span>xxxxxxxxxxxxxxxx
</code></pre></div><div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>You should never store any sort of credentials in source control (eg. Git).</p> <p>That's exactly why in the case of the Imgix signature key, we do not say that you could provide it to Twill using the sign_key configuration option of the Imgix configuration array.</p> <p>Always use environment variables for credentials.</p></div> <p>Finally, Twill's default Imgix configuration includes 4 different image transformation parameter sets that are used by helpers you will find in the <a href="/docs/media-library/">media library's documentation</a>:</p> <ul><li><code>default_params</code>: used by all image url functions in <code>A17\Twill\Services\MediaLibrary\Imgix</code> but overridden by the following parameter sets</li> <li><code>lqip_default_params</code>: used by the Low Quality Image Placeholder url function</li> <li><code>social_default_params</code>: used by the social image url function (for Facebook, Twitter, ... shares)</li> <li><code>cms_default_params</code>: used by the CMS image url function. This only affects rendering of images in Twill's admin console (eg. in the media library and image fields).</li></ul> <p>See <a href="https://docs.imgix.com/apis/url" target="_blank" rel="noopener noreferrer">Imgix's API reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for more information about those parameters.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'imgix'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'default_params'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'fm'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'jpg'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'q'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'80'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'auto'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'compress,format'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'fit'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'min'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'lqip_default_params'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'fm'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'gif'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'auto'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'compress'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'blur'</span> <span class="token operator">=&gt;</span> <span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'dpr'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'social_default_params'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'fm'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'jpg'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'w'</span> <span class="token operator">=&gt;</span> <span class="token number">900</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'h'</span> <span class="token operator">=&gt;</span> <span class="token number">470</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'fit'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'crop'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'crop'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'entropy'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'cms_default_params'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'q'</span> <span class="token operator">=&gt;</span> <span class="token number">60</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'dpr'</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'source_host'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IMGIX_SOURCE_HOST'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'use_https'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IMGIX_USE_HTTPS'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'use_signed_urls'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IMGIX_USE_SIGNED_URLS'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'sign_key'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'IMGIX_SIGN_KEY'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="file-library"><a href="#file-library" class="header-anchor">#</a> File library</h2> <p>The <code>file_library</code> configuration array in <code>config/twill.php</code> allows you to provide Twill with your configuration for the file library disk, endpoint type and other options depending on your endpoint type. Most options can be controlled through environment variables, as you can see in the default configuration provided:</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'file_library'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'disk'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'twill_file_library'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'endpoint_type'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_ENDPOINT_TYPE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'s3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'cascade_delete'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_CASCADE_DELETE'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'local_path'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_LOCAL_PATH'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'uploads'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'file_service'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_FILE_SERVICE'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'A17\Twill\Services\FileLibrary\Disk'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'acl'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_ACL'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'public-read'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'filesize_limit'</span> <span class="token operator">=&gt;</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'FILE_LIBRARY_FILESIZE_LIMIT'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'allowed_extensions'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'prefix_uuid_with_local_path'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Twill's file library supports the following endpoint types: <code>s3</code> and <code>local</code>.</p> <h4 id="s3-endpoint-2"><a href="#s3-endpoint-2" class="header-anchor">#</a> S3 endpoint</h4> <p>By default, Twill uses the <code>s3</code> endpoint type to store your uploads on an AWS S3 bucket. To authorize uploads to S3, provide your application with the following environment variables:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">S3_KEY</span><span class="token operator">=</span>S3_KEY
<span class="token assign-left variable">S3_SECRET</span><span class="token operator">=</span>S3_SECRET
<span class="token assign-left variable">S3_BUCKET</span><span class="token operator">=</span>bucket-name
</code></pre></div><p>Optionally, you can use the <code>S3_REGION</code> variable to specify a region other than S3's default region (<code>us-east-1</code>).</p> <p>When uploading files to S3, Twill sets the <code>acl</code> parameter to <code>public-read</code>. This is because Twill's default file service produces direct S3 urls. If you do not intend to access files uploaded to S3 directly, set the <code>FILE_LIBRARY_ACL</code> variable or <code>acl</code> configuration option to <code>public-read</code>.</p> <h4 id="local-endpoint-2"><a href="#local-endpoint-2" class="header-anchor">#</a> Local endpoint</h4> <p>If you want your uploads to be stored on the server where your Laravel application is running, use the <code>local</code> endpoint type.  Define the <code>FILE_LIBRARY_LOCAL_PATH</code> environment variable or the <code>file_library.local_path</code> configuration option to provide Twill with your preferred upload path. Always include a trailing slash like in the following example:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">FILE_LIBRARY_ENDPOINT_TYPE</span><span class="token operator">=</span>local
<span class="token assign-left variable">FILE_LIBRARY_LOCAL_PATH</span><span class="token operator">=</span>uploads/
</code></pre></div><p>To avoid running into <code>too large</code> errors when uploading to your server, you can choose to limit uploads through Twill using the <code>FILE_LIBRARY_FILESIZE_LIMIT</code> environment variable or <code>filesize_limit</code> configuration option. It is set to 50mb by default. Make sure to setup your PHP and webserver (apache, nginx, ....) to allow for the upload size specified here.
When using the <code>s3</code> endpoint type, uploads are not limited in size.</p> <h4 id="cascading-uploads-deletions-2"><a href="#cascading-uploads-deletions-2" class="header-anchor">#</a> Cascading uploads deletions</h4> <p>By default, Twill will not delete files when deleting from Twill's file library's UI, wether it is on S3 or locally.</p> <p>You can decide to physically delete uploaded files using the <code>cascade_delete</code> option, which is also controlled through the <code>FILE_LIBRARY_CASCADE_DELETE</code> boolean environment variable:</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token assign-left variable">FILE_LIBRARY_CASCADE_DELETE</span><span class="token operator">=</span>false
</code></pre></div><h4 id="files-url-service"><a href="#files-url-service" class="header-anchor">#</a> Files url service</h4> <p>Twill's provided service for files creates direct urls to the disk they were uploaded to (ie. S3 urls or urls on your domain depending on your endpoint type). You can change the default service using the <code>FILE_LIBRARY_IMAGE_SERVICE</code> environment variable or the <code>file_library.image_service</code> configuration option.</p> <p>See the <a href="/docs/media-library/file-library.html">file library's documentation</a> for more information.</p> <h4 id="allowed-extensions-2"><a href="#allowed-extensions-2" class="header-anchor">#</a> Allowed extensions</h4> <p>The <code>allowed_extensions</code> configuration option is an array of file extensions that Twill's file library uploader will accept. By default, it is empty, all extensions are allowed.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/area17/twill/edit/2.x/docs/src/getting-started/configuration.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/getting-started/installation.html" class="prev">
        Installation
      </a></span> <span class="next"><a href="/docs/getting-started/navigation.html">
        Navigation
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/assets/js/app.1ad650c4.js" defer></script><script src="/docs/assets/js/3.172449b0.js" defer></script><script src="/docs/assets/js/60.da55d698.js" defer></script>
  </body>
</html>
